<h1 class = "heading">MovieLand</h1>


<form [formGroup] = "searchControl" (submit)="submitting(selectedType)" class = "searchField">
    <input formControlName = "s" placeholder="  type a movie title here" class = "inputField">
    <button class = "button" type="submit">Search</button>
    <button mat-button class = "button"><label for = "openAdvanced">...Advanced</label></button>
    <div class = "advancedPanel">
        <input type="checkbox" id="openAdvanced">
        <div class = "block"> 
    
        <mat-form-field class = "advancedOption">
        <mat-label>Type</mat-label>
        <mat-select [(value)]="selectedType">
        <mat-option *ngFor="let type of types" [value]="type.value">
          {{type.viewValue}}
        </mat-option>
         </mat-select>
        </mat-form-field>



        <mat-form-field class = "advancedOption">
        <input type="text" placeholder="Select a year" aria-label="Number" matInput [formControl]="y" [matAutocomplete]="auto">
         <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let year of years" [value]="year">
        {{ year }}
        </mat-option>
        </mat-autocomplete>
        </mat-form-field>

        </div>
        </div> 
</form>

<ul *ngIf="movies.length" class="moviesList">
        <li *ngFor="let movie of movies" class = "container" (click) = "navigateToDetails(movie)">
            
            <div>
            <p class = "resultDetails"><span>{{movie.Title}}</span><br>
            <span>{{movie.Type}}</span><br>
            <span>{{movie.Year}}</span></p>
            <img *ngIf ='movie.Poster != "N/A"; else noPoster' src="{{movie.Poster}}" class = "poster" />
            <ng-template #noPoster>
                <img class="poster" src='assets/images/no-image.png' />
            </ng-template>
            </div>
       
    </li>
    <mat-paginator [length]=totalResults 
              [pageSize]=movies.length
              [hidePageSize]=true
              (page)="doPaginate($event)">
    </mat-paginator>
</ul>





